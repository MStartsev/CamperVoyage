"use strict";(self.webpackChunkcampervoyage=self.webpackChunkcampervoyage||[]).push([[489],{69:function(e,t,n){n.d(t,{Z:function(){return Q}});var r=n(9434),s=n(6351),a=n(9439),i=n(2791),l=n(8020),c=n(4164),o=n(9),d=n(5677),_=n(9894),u="OrderForm_form__Dl7Rq",m="OrderForm_title_wrapper__KYmHY",h="OrderForm_wrapper__2FwLS",v="OrderForm_container__aWB17",x="OrderForm_subtitle__WjVLJ",f="OrderForm_text__fD2ya",p="OrderForm_input__KsVun",j="OrderForm_textarea__Gi0ii OrderForm_input__KsVun",N="OrderForm_calendar_svg__s5Ym2",g="OrderForm_calendar_input__dk2P8",y="OrderForm_datepicker_toggle_button__0A3NN",w="OrderForm_datepicker__0NXbX",F=n(9348),C=n(184),b=function(){var e=(0,i.useState)(!1),t=(0,a.Z)(e,2),n=t[0],r=t[1];return(0,C.jsxs)("div",{className:h,children:[(0,C.jsxs)("form",{name:"BookingForm",className:u,onSubmit:function(e){e.preventDefault(),e.target.reset(),r(!0)},children:[(0,C.jsxs)("div",{className:m,children:[(0,C.jsx)("h3",{className:x,children:"Book your campervan now"}),(0,C.jsx)("p",{className:f,children:"Stay connected! We are always ready to help you."})]}),(0,C.jsxs)("div",{className:v,children:[(0,C.jsx)("label",{htmlFor:"name",children:(0,C.jsx)("input",{id:"name",name:"name",type:"text",placeholder:"Name",autoComplete:"auto",className:p,required:!0})}),(0,C.jsx)("label",{htmlFor:"email",children:(0,C.jsx)("input",{id:"email",name:"email",type:"email",placeholder:"Email",autoComplete:"auto",className:p,required:!0})}),(0,C.jsxs)("label",{htmlFor:"inputDate",className:g,children:[(0,C.jsx)("span",{className:y,children:(0,C.jsx)("svg",{className:N,width:20,height:20,children:(0,C.jsx)("use",{href:"".concat(F.Z,"#calendar")})})}),(0,C.jsx)("input",{id:"inputDate",name:"inputDate",type:"date",placeholder:"Booking date",className:"".concat(p," ").concat(w),required:!0})]}),(0,C.jsx)("label",{htmlFor:"comment",children:(0,C.jsx)("textarea",{id:"comment",name:"comment",placeholder:"Comment",className:j})})]}),(0,C.jsx)(_.Mm,{type:"submit",children:"Send"})]}),n&&(0,C.jsx)("p",{children:"Form submitted successfully!"})]})},k={modal_overlay:"ModalAdvert_modal_overlay__Xnqrm",description:"ModalAdvert_description__oCswk",container:"ModalAdvert_container__iXlnS",list_container:"ModalAdvert_list_container__YR9Rx",nav:"ModalAdvert_nav__LmytL",nav_link:"ModalAdvert_nav_link__ncSMK",accent:"ModalAdvert_accent__3sqSI",details_wrapper:"ModalAdvert_details_wrapper__A4QR6",details:"ModalAdvert_details__L+2ix"},A="AdvertItem_item__YDGtQ",S="AdvertItem_img__fGhaR",Z="AdvertItem_content__Ar1Bl",L="AdvertItem_header__SnV1f",I="AdvertItem_price_wrapper__+eKUC",E="AdvertItem_info__4VCFs",M="AdvertItem_header_wrapper__XFtU3",O="AdvertItem_title__KcX0E",B="AdvertItem_price__WqeWv",D="AdvertItem_favorite__KO2im",K="AdvertItem_favorite__added__GoZ-Y",R="AdvertItem_rating__5bu8I",Y="AdvertItem_location__KBpyI",G="AdvertItem_icon__TwHqI",q="AdvertItem_rating_text__58lzI",z="AdvertItem_description__NGK06",H="AdvertItem_img_wrapper__b3NgY",V=function(e){var t=e.advert,n=(0,i.useState)("features"),r=(0,a.Z)(n,2),s=r[0],l=r[1];return(0,C.jsxs)("div",{className:"".concat(k.modal_window," "),children:[(0,C.jsx)("div",{children:(0,C.jsxs)("div",{className:M,children:[(0,C.jsxs)("div",{className:L,children:[(0,C.jsx)("h2",{className:O,children:t.name}),(0,C.jsx)("div",{className:I})]}),(0,C.jsxs)("div",{className:E,children:[(0,C.jsxs)("p",{className:R,children:[(0,C.jsx)("svg",{className:G,width:16,height:16,children:(0,C.jsx)("use",{xlinkHref:"".concat(F.Z,"#star")})}),(0,C.jsxs)("span",{className:q,children:[t.rating," (",t.reviews.length," Reviews)"]})]}),(0,C.jsx)("span",{className:Y,children:t.location})]}),(0,C.jsxs)("p",{className:B,children:["\u20ac",t.price.toFixed(2)]})]})}),(0,C.jsx)("div",{className:k.container,children:(0,C.jsxs)("div",{className:k.list_container,children:[(0,C.jsx)("ul",{className:H,children:t.gallery.map((function(e){return(0,C.jsx)("li",{children:(0,C.jsx)("img",{className:S,src:e,alt:t.name,width:290,height:310})},e)}))}),(0,C.jsx)("p",{className:"".concat(k.description," text"),children:t.description}),(0,C.jsxs)("div",{className:k.nav,children:[(0,C.jsx)("button",{className:"".concat(k.nav_link," ").concat("features"===s&&k.accent),onClick:function(){return l("features")},children:"Features"}),(0,C.jsx)("button",{className:"".concat(k.nav_link," ").concat("rewiews"===s&&k.accent),onClick:function(){return l("rewiews")},children:"Reviews"})]}),(0,C.jsxs)("div",{className:k.details_wrapper,children:[(0,C.jsxs)("div",{className:k.details,children:["features"===s&&(0,C.jsx)(d.Z,{advert:t}),"rewiews"===s&&(0,C.jsx)(o.Z,{reviews:t.reviews})]}),(0,C.jsx)(b,{})]})]})})]})},P={overlay:"Modal_overlay__r63M6",modal:"Modal_modal__DJDMv",close_button:"Modal_close_button__4xTF9"},U=function(e){var t=e.children,n=e.advert,r=e.onClose;return(0,i.useEffect)((function(){var e=function(e){"Escape"===e.key&&r()},t=function(e){e.target.classList.contains(P.overlay)&&r()};return document.addEventListener("keydown",e),document.addEventListener("click",t),document.body.style.overflow="hidden",document.body.style.paddingRight="15px",function(){document.removeEventListener("keydown",e),document.removeEventListener("click",t),document.body.style.overflow="auto",document.body.style.paddingRight="0"}}),[r]),c.createPortal((0,C.jsx)("div",{className:P.overlay,children:(0,C.jsxs)("div",{className:P.modal,children:[(0,C.jsx)("button",{className:P.close_button,onClick:r,children:(0,C.jsx)("svg",{className:P.modal_close_icon,width:32,height:32,children:(0,C.jsx)("use",{href:"".concat(F.Z,"#close")})})}),(0,C.jsx)("div",{className:P.content,children:t}),(0,C.jsx)(V,{advert:n})]})}),document.getElementById("modal-root"))},X=n(9186),W=function(e){var t=e.advert,n=(0,i.useState)(!1),c=(0,a.Z)(n,2),o=c[0],d=c[1],u=t.id,m=t.name,h=t.price,v=t.location,x=t.description,f=t.details,p=t.rating,j=t.reviews,N=t.gallery,g=(0,r.I0)(),y=!(0,r.v9)(s.Tc).favorites.find((function(e){return e.id===u}));return(0,C.jsxs)("li",{className:A,id:u,children:[(0,C.jsx)("img",{className:S,src:N&&(null===N||void 0===N?void 0:N.length)&&N[0],alt:m,width:290,height:310,loading:"lazy"}),(0,C.jsxs)("div",{className:Z,children:[(0,C.jsxs)("div",{className:M,children:[(0,C.jsxs)("div",{className:L,children:[(0,C.jsx)("h2",{className:O,children:m}),(0,C.jsxs)("div",{className:I,children:[(0,C.jsxs)("p",{className:B,children:["\u20ac",h.toFixed(2)]}),(0,C.jsx)("button",{className:y&&D||K,onClick:function(){return g(y?(0,l.a3)(t):(0,l.Ni)(t.id))},children:(0,C.jsx)("svg",{className:G,width:24,height:24,children:(0,C.jsx)("use",{xlinkHref:"".concat(F.Z,"#heart")})})})]})]}),(0,C.jsxs)("div",{className:E,children:[(0,C.jsxs)("p",{className:R,children:[(0,C.jsx)("svg",{className:G,width:16,height:16,children:(0,C.jsx)("use",{xlinkHref:"".concat(F.Z,"#star")})}),(0,C.jsxs)("span",{className:q,children:[p," (",j.length," Reviews)"]})]}),(0,C.jsx)("span",{className:Y,children:v})]})]}),(0,C.jsx)("p",{className:z,children:x}),(0,C.jsx)(X.Z,{details:f}),(0,C.jsx)(_.EC,{onClick:function(){d(!0)},children:"Show more"}),o&&(0,C.jsx)(U,{onClose:function(){d(!1)},advert:t})]})]})},J="AdvertList_list__s82Kb",Q=function(e){var t=e.adverts,n=(0,r.v9)(s.xU),a=(0,r.v9)(s.zh);return n?(0,C.jsx)(C.Fragment,{children:(0,C.jsx)("p",{children:"Loading..."})}):a?(0,C.jsx)(C.Fragment,{children:(0,C.jsx)("p",{children:"Error!"})}):(0,C.jsx)("ul",{className:J,children:t&&(null===t||void 0===t?void 0:t.length)>0?t.map((function(e){return(0,C.jsx)(W,{advert:e},e.id)})):(0,C.jsx)("p",{children:"No advertisements found"})})}},9894:function(e,t,n){n.d(t,{EC:function(){return l},Gz:function(){return i},Mm:function(){return c}});var r="Button_accent_btn__BdPoK Button_primary_btn__AqE5e",s="Button_ligth_btn__VuCBi Button_primary_btn__AqE5e",a=n(184),i=function(e){var t=e.children,n=e.onClick;return(0,a.jsx)("button",{className:s,type:"button",onClick:n,children:t})},l=function(e){var t=e.children,n=e.onClick;return(0,a.jsx)("button",{className:r,type:"button",onClick:n,children:t})},c=function(e){var t=e.children,n=e.onSubmit;return(0,a.jsx)("button",{className:r,type:"submit",onSubmit:n,children:t})}},2489:function(e,t,n){n.r(t),n.d(t,{default:function(){return q}});var r=n(9439),s=n(2791),a=n(9434),i=n(6351),l=n(1437),c=n(9894),o=n(69),d="AdvertsPagination_wrapper__4NiRi",_=n(184),u=function(e){var t=e.adverts,n=(0,s.useState)(4),l=(0,r.Z)(n,2),u=l[0],m=l[1],h=(0,a.v9)(i.xU);return(0,_.jsxs)("div",{className:d,children:[(0,_.jsx)(o.Z,{adverts:t.slice(0,u)}),!h&&u<t.length&&(0,_.jsx)(c.Gz,{onClick:function(){m((function(e){return e+4}))},children:"Load more"})]})},m=n(7762);var h=n(9348),v="CityAutoComplete_location__rs4bb",x="CityAutoComplete_wrapper__r8lTw",f="CityAutoComplete_title__YDFYo",p="CityAutoComplete_icon__8ygvX",j="CityAutoComplete_input_location__5n7JZ",N="CityAutoComplete_list__LYMkA",g="CityAutoComplete_item__wnH9C",y=function(e){var t=e.cities,n=e.onCitySelect,a=(0,s.useState)(""),i=(0,r.Z)(a,2),l=i[0],c=i[1],o=(0,s.useState)([]),d=(0,r.Z)(o,2),u=d[0],m=d[1],y=(0,s.useState)(!1),w=(0,r.Z)(y,2),F=w[0],C=w[1],b=(0,s.useState)(!1),k=(0,r.Z)(b,2),A=k[0],S=k[1],Z=(0,s.useRef)(null);(0,s.useEffect)((function(){return document.addEventListener("click",L),function(){document.removeEventListener("click",L)}}),[]);var L=function(e){Z.current.contains(e.target)||m([])};return(0,_.jsxs)("div",{className:v,ref:Z,children:[(0,_.jsx)("h3",{className:f,children:"Location"}),(0,_.jsxs)("div",{className:x,children:[(0,_.jsx)("svg",{className:p,width:18,height:20,children:(0,_.jsx)("use",{xlinkHref:"".concat(h.Z,"#geo")})}),(0,_.jsx)("input",{className:j,type:"text",value:l,onChange:function(e){var r=e.target.value;if(c(r),r.length>0){var s=t.filter((function(e){return e.toLowerCase().includes(r.toLowerCase())}));m(s),C(!1),S(!1)}else m(t),C(!1),S(!0),n([])},onKeyDown:function(e){"Escape"===e.key&&(m([]),Z.current.blur())},onBlur:function(){l.length>0&&!u.includes(l)&&C(!0)},placeholder:"City"}),u.length>0&&(0,_.jsx)("ul",{className:N,children:u.map((function(e,t){return(0,_.jsx)("li",{className:g,onClick:function(){return function(e){c(e),m([]),C(!1),n(e)}(e)},children:e},t)}))}),F&&!A&&(0,_.jsx)("p",{style:{color:"red"},children:"\u041c\u0456\u0441\u0442\u043e \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0454"})]})]})},w=n(3433),F=n(7583),C="DetailFilter_details_filter__hwsFd",b="DetailFilter_title__7fOFN",k="DetailFilter_subtitle__1Azag",A="DetailFilter_details_list__E8USp",S="DetailFilter_details_item__8VBxi",Z="DetailFilter_form_text__yPRPt",L="DetailFilter_details_item__selected__wGrYB",I=function(e){var t=e.detailKeys,n=e.onFilterSelect,a=(0,s.useState)([]),i=(0,r.Z)(a,2),l=i[0],c=i[1];return(0,s.useEffect)((function(){n(l)}),[n,l]),(0,_.jsxs)("div",{className:C,children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("h3",{className:k,children:"Filters"}),(0,_.jsx)("h2",{className:b,children:"Vehicle equipment"})]}),(0,_.jsx)("ul",{className:A,children:t.map((function(e){return(0,_.jsx)("li",{children:(0,_.jsxs)("button",{className:"".concat(S," ").concat(l.includes(e)?L:""),onClick:function(){!function(e){var t=l.includes(e)?l.filter((function(t){return t!==e})):[].concat((0,w.Z)(l),[e]);c(t)}(e)},children:[(0,_.jsx)("svg",{width:32,height:32,children:(0,_.jsx)("use",{xlinkHref:"".concat(h.Z,"#").concat(e.toLowerCase())})}),(0,_.jsx)("span",{className:Z,children:(0,F.Z)(e)})]})},e)}))})]})},E="FormFilter_form_filter__NJjft",M="FormFilter_title__BPbds",O="FormFilter_form_list__OwKzW",B="FormFilter_form_item__vQuBH",D="FormFilter_form_item__selected__zLOY8",K="FormFilter_form_text__Aa3UE",R=function(e){var t=e.formKeys,n=e.onFilterSelect,a=(0,s.useState)(""),i=(0,r.Z)(a,2),l=i[0],c=i[1];return(0,s.useEffect)((function(){n(l?[l]:[])}),[n,l]),(0,_.jsxs)("div",{className:E,children:[(0,_.jsx)("h2",{className:M,children:"Vehicle type"}),(0,_.jsx)("ul",{className:O,children:t.map((function(e){return(0,_.jsx)("li",{children:(0,_.jsxs)("button",{className:"".concat(B," ").concat(e===l?D:""),onClick:function(){var t;t=e,c((function(e){return e===t?"":t}))},children:[(0,_.jsx)("svg",{width:32,height:32,children:(0,_.jsx)("use",{xlinkHref:"".concat(h.Z,"#").concat(e.toLowerCase())})}),(0,_.jsx)("span",{className:K,children:(0,F.Z)(e)})]})},e)}))})]})},Y=function(e){var t=e.adverts,n=e.setFilteredAdverts,a=(0,s.useMemo)((function(){return function(e){var t,n=new Set,r=new Set,s=new Set,a=(0,m.Z)(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;for(var l in i.details)n.add(l);var c=i.location.split(", ")[1];r.add(c),s.add(i.form)}}catch(d){a.e(d)}finally{a.f()}var o=function(e){return Array.from(e).sort((function(e,t){return e-t}))};return{details:n=o(n),location:r=o(r),form:s=o(s)}}(t)}),[t]),i=(0,s.useState)(""),l=(0,r.Z)(i,2),o=l[0],d=l[1],u=(0,s.useState)([]),h=(0,r.Z)(u,2),v=h[0],x=h[1],f=(0,s.useState)(""),p=(0,r.Z)(f,2),j=p[0],N=p[1];return(0,_.jsxs)("div",{children:[(0,_.jsx)(y,{cities:a.location,onCitySelect:d}),(0,_.jsx)(I,{detailKeys:a.details,onFilterSelect:x}),(0,_.jsx)(R,{formKeys:a.form,onFilterSelect:N}),(0,_.jsx)(c.Gz,{onClick:function(){var e=t;o.length>0&&(e=e.filter((function(e){return e.location.includes(o)}))),console.log(v.length,e),v.length>0&&(e=e.filter((function(e){return v.every((function(t){return e.details[t]}))}))),j.length>0&&(e=e.filter((function(e){return e.form.includes(j)}))),n(e)},children:" Search "})]})},G=n(9033),q=function(){var e=(0,s.useState)(null),t=(0,r.Z)(e,2),n=t[0],c=t[1],o=(0,a.I0)(),d=(0,a.v9)(i.OG);return(0,s.useEffect)((function(){o((0,l.G)())}),[o]),(0,_.jsxs)("div",{className:G.Z.wrapper,children:[(0,_.jsxs)("section",{className:G.Z.filter,children:[(0,_.jsx)("h1",{className:"visually_hidden",children:"Filter"}),(0,_.jsx)(Y,{adverts:d,setFilteredAdverts:c})]}),(0,_.jsxs)("section",{className:G.Z.catalog,children:[(0,_.jsx)("h1",{className:"visually_hidden",children:"Catalog"}),(0,_.jsx)(u,{adverts:n||d})]})]})}},6351:function(e,t,n){n.d(t,{OG:function(){return r},Tc:function(){return i},xU:function(){return s},zh:function(){return a}});var r=function(e){return e.adverts.items},s=function(e){return e.adverts.isLoading},a=function(e){return e.adverts.error},i=function(e){return e.favorites}},9033:function(e,t){t.Z={wrapper:"pages_wrapper__jX0rS",wrapper_home:"pages_wrapper_home__xLQCv",container:"pages_container__-MxLQ",homepage:"pages_homepage__8WurU",catalog:"pages_catalog__gtlyf",filter:"pages_filter__2Yf-p",homepage_text:"pages_homepage_text__-x5RM",text_wrapper:"pages_text_wrapper__cVyuy",title:"pages_title__EC3Ll",button_link:"pages_button_link__JYPGP"}}}]);
//# sourceMappingURL=489.f67428fa.chunk.js.map